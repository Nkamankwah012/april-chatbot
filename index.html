<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AirCare HVAC Support - Virtual Assistant April</title>
    <meta name="description" content="Get instant HVAC support with AirCare's virtual assistant April. Book diagnostics, get estimates, and receive expert help 24/7." />
    <meta name="author" content="AirCare HVAC Services" />
    <meta name="keywords" content="HVAC, air conditioning, heating, repair, maintenance, support, virtual assistant" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="AirCare HVAC Support - Virtual Assistant April" />
    <meta property="og:description" content="Get instant HVAC support with AirCare's virtual assistant April. Book diagnostics, get estimates, and receive expert help 24/7." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://aircare-support.lovable.app" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="AirCare HVAC Support - Virtual Assistant April" />
    <meta name="twitter:description" content="Get instant HVAC support with AirCare's virtual assistant April. Book diagnostics, get estimates, and receive expert help 24/7." />
    
    <!-- Botpress Webchat Scripts -->
    <script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js"></script>
    <script src="https://files.bpcontent.cloud/2025/09/17/20/20250917203724-Q1C6SGSN.js"></script>
    
    <style>
      /* Hide the Botpress widget completely */
      #bp-web-widget { display: none !important; }
      .bp-widget-web { display: none !important; }
      
      /* Additional selectors to ensure complete hiding */
      [id*="botpress"] { display: none !important; }
      [class*="botpress"] { display: none !important; }
      [id*="bp-web"] { display: none !important; }
      [class*="bp-web"] { display: none !important; }
      
      /* Webchat specific selectors */
      #botpress-webchat { display: none !important; }
      .botpress-webchat { display: none !important; }
      .bpw-layout { display: none !important; }
      .bpw-widget { display: none !important; }
      .bpw-floating-button { display: none !important; }
      .bpw-chat-container { display: none !important; }
      .bpw-header { display: none !important; }
      .bpw-composer { display: none !important; }
      .bpw-conversation { display: none !important; }
      .bpw-typing { display: none !important; }
      .bpw-powered { display: none !important; }
    </style>

    <script>
      // Wait for Botpress WebChat to load and set up programmatic control
      let checkBotpress = setInterval(() => {
        if (window.botpressWebChat) {
          clearInterval(checkBotpress);
          console.log('BotpressWebChat API is ready');
          
          // Set up global functions for the React app to use
          window.sendMessageToBotpress = function(text) {
            console.log('Sending message to BotpressWebChat:', text);
            try {
              window.botpressWebChat.sendEvent({
                type: 'MESSAGE',
                text: text
              });
            } catch (error) {
              console.error('Error sending message:', error);
            }
          };
          
          window.displayBotMessage = function(text) {
            console.log('Displaying bot message:', text);
            if (window.botpressMessageHandler) {
              window.botpressMessageHandler(text);
            }
          };
          
          // Listen for bot responses
          window.botpressWebChat.onEvent((event) => {
            console.log('BotpressWebChat event received:', event);
            if (event.type === 'MESSAGE.RECEIVED' && event.text && window.botpressMessageHandler) {
              console.log('Calling message handler with:', event.text);
              window.botpressMessageHandler(event.text);
            }
          }, ['MESSAGE.RECEIVED']);
          
        }
      }, 100);
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>